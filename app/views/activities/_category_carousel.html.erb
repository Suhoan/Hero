<div class="container categories-container">
  <div class="row">
    <div class="col-md-12 categories-headinfo">
      <div class="cat-header d-flex justify-content-between align-items-center">
        <h2><%= category.name %></h2> <%= link_to category_path(category) do %>
          See more <i class="fa-solid fa-chevron-right"></i>
        <% end %>
      </div>
    </div>
    <div class="col-md-12 categories-contentinfo">
      <%# Create custom activitycarousel %>
      <div id="activitycarousel-<%= category.id %>" class="carousel slide" data-bs-touch="true">
        <div class="carousel-indicators">
          <% activities.each_with_index do |slide, i| %>
            <button type="button" data-bs-target="#activitycarousel-<%= category.id %>" data-bs-slide-to="<%= i %>" class="<%= i == 1 ? "active" : "" ;%>" aria-current="<%= i == 1 ? "true" : "" ;%>" aria-label="Slide <%= i %>"></button>
          <%end%>
        </div>
        <div class="carousel-inner">
          <% activities.each_with_index do |activity, i| %>
            <% encounter = Encounter.find_by(user_id: current_user.id, activity_id: activity.id) if user_signed_in? %>
            <div class="carousel-item <%= i == 1 ? "active" : "" ;%>" data-controller='activity' data-activity-userid-value='<%= user_signed_in? ? current_user.id : 0 %>' data-value='<%= activity.id %>'>
              <div class="activity-card mb-2">
                <%= render 'activity', activity: activity, encounter: encounter %>
              </div>
            </div>
          <%end%>
        </div>
      </div>
    </div>
  </div>
</div>
